<form class="form" [formGroup]="form" (ngSubmit)="addUser()">
    <fieldset class="m-b-md">
        <legend>Base information:</legend>

        <div class="flx-row flx-between-xs">
            <div class="flx-col-xs-4 form__field">
                <mat-form-field appearance="standard">
                    <mat-label>First Name</mat-label>
                    <input matInput formControlName="firstName" id="firstName" type="text" placeholder="Ex. John">
                    <mat-icon matSuffix>person</mat-icon>
                    <mat-hint align="end">{{firstName?.value?.length || 0}}/100</mat-hint>
                    <mat-error *ngIf="firstName?.errors?.['required']">This field is required</mat-error>
                    <mat-error *ngIf="firstName?.errors?.['minlength']">This field should be minimum {{ firstName?.errors?.['minlength'].requiredLength }} characters.</mat-error>   
                    <mat-error *ngIf="firstName?.errors?.['maxLength']">This field should be maximum {{ firstName?.errors?.['maxLength'].requiredLength }} characters.</mat-error>   
                </mat-form-field>
            </div>
    
            <div class="flx-col-xs-4 form__field">
                <mat-form-field appearance="standard">
                    <mat-label>Last Name</mat-label>
                    <input matInput formControlName="lastName" id="lastName" type="text" placeholder="Ex. Doe">
                    <mat-icon matSuffix>person</mat-icon>
                    <mat-hint align="end">{{lastName?.value?.length || 0}}/100</mat-hint>
                    <mat-error *ngIf="lastName?.errors?.['required']">This field is required</mat-error>
                    <mat-error *ngIf="lastName?.errors?.['minlength']">This field should be minimum {{ lastName?.errors?.['minlength'].requiredLength }} characters.</mat-error>   
                    <mat-error *ngIf="lastName?.errors?.['maxLength']">This field should be maximum {{ lastName?.errors?.['maxLength'].requiredLength }} characters.</mat-error>   
                </mat-form-field>
            </div>

            <div class="flx-col-xs-4 form__field">
                <mat-form-field appearance="standard">
                    <mat-label>Role</mat-label>
                    <mat-select name="role">
                        <mat-option *ngFor="let role of roles" [value]="role.id">{{role.name}}</mat-option>
                    </mat-select>
                    <mat-icon matSuffix>assignment_ind</mat-icon>
                    <mat-error *ngIf="role?.errors?.['required']">This field is required</mat-error>
                </mat-form-field>
            </div>            
        </div>

        <div class="flx-row flx-between-xs">
            <div class="flx-col-xs-4 form__field">
                <mat-form-field appearance="standard">
                    <mat-label>Phone</mat-label>
                    <input matInput formControlName="phone" id="phone" type="text" placeholder="Ex. +40 7## ### ###">
                    <mat-icon matSuffix>phone_iphone</mat-icon>
                    <mat-hint align="end">{{phone?.value?.length || 0}}/100</mat-hint>
                    <mat-error *ngIf="phone?.errors?.['required']">This field is required</mat-error>
                </mat-form-field>
            </div>

            <div class="flx-col-xs-4 form__field">
                <mat-form-field appearance="standard">
                    <mat-label>Email</mat-label>
                    <input matInput formControlName="email" id="email" type="text" placeholder="Ex. ###@###.###">
                    <mat-icon matSuffix>mail</mat-icon>
                    <mat-hint align="end">{{email?.value?.length || 0}}/100</mat-hint>
                    <mat-error *ngIf="email?.errors?.['required']">This field is required</mat-error>
                    <mat-error *ngIf="email?.errors?.['pattern']">This field must be a valid email address</mat-error>
                </mat-form-field>
            </div>    
    
            <div class="flx-col-xs-4 form__field">
                <mat-form-field appearance="standard">
                    <mat-label>Password</mat-label>
                    <input matInput formControlName="password" id="password" type="password">
                    <mat-icon matSuffix>password</mat-icon>
                    <mat-hint align="end">{{password?.value?.length || 0}}/100</mat-hint>
                    <mat-error *ngIf="password?.errors?.['required']">This field is required</mat-error>
                    <mat-error *ngIf="password?.errors?.['pattern']">This field must be a valid password (6 to 20 characters where it needs to have at least one number and one special character)</mat-error>
                </mat-form-field>
            </div>
        </div>
    </fieldset>

    <fieldset formGroupName="address">
        <legend>Address:</legend>

        <div class="flx-row flx-between-xs">
            <div class="flx-col-xs-4 form__field">
                <mat-form-field appearance="standard">
                    <mat-label>Country</mat-label>
                    <input matInput formControlName="country" id="country" type="text" placeholder="Ex. Romania">
                    <mat-icon matSuffix>location_on</mat-icon>
                    <mat-hint align="end">{{country?.value?.length || 0}}/100</mat-hint>
                    <mat-error *ngIf="country?.errors?.['required']">This field is required</mat-error>
                    <mat-error *ngIf="country?.errors?.['minlength']">This field should be minimum {{ country?.errors?.['minlength'].requiredLength }} characters.</mat-error>   
                    <mat-error *ngIf="country?.errors?.['maxLength']">This field should be maximum {{ country?.errors?.['maxLength'].requiredLength }} characters.</mat-error>   
                </mat-form-field>
            </div>
    
            <div class="flx-col-xs-4 form__field">
                <mat-form-field appearance="standard">
                    <mat-label>County</mat-label>
                    <input matInput formControlName="county" id="county" type="text" placeholder="Ex. Ialomita">
                    <mat-icon matSuffix>location_on</mat-icon>
                    <mat-hint align="end">{{county?.value?.length || 0}}/100</mat-hint>
                    <mat-error *ngIf="county?.errors?.['required']">This field is required</mat-error>
                    <mat-error *ngIf="county?.errors?.['minlength']">This field should be minimum {{ county?.errors?.['minlength'].requiredLength }} characters.</mat-error>   
                    <mat-error *ngIf="county?.errors?.['maxLength']">This field should be maximum {{ county?.errors?.['maxLength'].requiredLength }} characters.</mat-error>   
                </mat-form-field>
            </div>
    
            <div class="flx-col-xs-4 form__field">
                <mat-form-field appearance="standard">
                    <mat-label>City</mat-label>
                    <input matInput formControlName="city" id="city" type="text" placeholder="Ex. Urziceni">
                    <mat-icon matSuffix>location_on</mat-icon>
                    <mat-hint align="end">{{city?.value?.length || 0}}/100</mat-hint>
                    <mat-error *ngIf="city?.errors?.['required']">This field is required</mat-error>
                    <mat-error *ngIf="city?.errors?.['minlength']">This field should be minimum {{ city?.errors?.['minlength'].requiredLength }} characters.</mat-error>   
                    <mat-error *ngIf="city?.errors?.['maxLength']">This field should be maximum {{ city?.errors?.['maxLength'].requiredLength }} characters.</mat-error>   
                </mat-form-field>
            </div>
        </div>

        <div class="flx-row flx-between-xs">
            <div class="flx-col-xs-4 form__field">
                <mat-form-field appearance="standard">
                    <mat-label>Street</mat-label>
                    <input matInput formControlName="street" id="street" type="text" placeholder="Ex. Regiei">
                    <mat-icon matSuffix>location_on</mat-icon>
                    <mat-hint align="end">{{street?.value?.length || 0}}/100</mat-hint>
                    <mat-error *ngIf="street?.errors?.['required']">This field is required</mat-error>
                    <mat-error *ngIf="street?.errors?.['minlength']">This field should be minimum {{ street?.errors?.['minlength'].requiredLength }} characters.</mat-error>   
                    <mat-error *ngIf="street?.errors?.['maxLength']">This field should be maximum {{ street?.errors?.['maxLength'].requiredLength }} characters.</mat-error>   
                </mat-form-field>
            </div>

            <div class="flx-col-xs-4 form__field">
                <mat-form-field appearance="standard">
                    <mat-label>Location Number</mat-label>
                    <input matInput formControlName="locationNumber" id="locationNumber" type="number" placeholder="Ex. 23">
                    <mat-icon matSuffix>location_on</mat-icon>
                    <mat-error *ngIf="locationNumber?.errors?.['required']">This field is required</mat-error>
                    <mat-error *ngIf="locationNumber?.errors?.['min']">This field should be minimum {{ locationNumber?.errors?.['min'].min }} characters.</mat-error>
                </mat-form-field>
            </div>

            <div class="flx-col-xs-4 form__field">
                <mat-form-field appearance="standard">
                    <mat-label>Zip Code</mat-label>
                    <input matInput formControlName="zipCode" id="zipCode" type="number" placeholder="Ex. 965320">
                    <mat-icon matSuffix>location_on</mat-icon>
                    <mat-hint align="end">{{street?.value?.length || 0}}/100</mat-hint>
                    <mat-error *ngIf="zipCode?.errors?.['required']">This field is required</mat-error>
                    <mat-error *ngIf="zipCode?.errors?.['minlength']">This field should be minimum {{ zipCode?.errors?.['minlength'].requiredLength }} characters.</mat-error>   
                    <mat-error *ngIf="zipCode?.errors?.['maxLength']">This field should be maximum {{ zipCode?.errors?.['maxLength'].requiredLength }} characters.</mat-error> 
                </mat-form-field>
            </div>
        </div>
    </fieldset>
</form>
